<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Login | Fashion Store</title>

<!-- Bootstrap -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">

<style>
body {
	min-height: 100vh;
	background: linear-gradient(135deg, #111827, #1f2937);
	display: flex;
	align-items: center;
	justify-content: center;
	font-family: 'Segoe UI', sans-serif;
}

.login-card {
	width: 100%;
	max-width: 420px;
	background: #ffffff;
	border-radius: 14px;
	padding: 30px;
	box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
}

.brand-title {
	font-weight: 700;
	letter-spacing: 1px;
}

.form-control {
	border-radius: 8px;
	padding: 10px 12px;
}

.btn-login {
	border-radius: 8px;
	font-weight: 600;
}

.toggle-password {
	cursor: pointer;
	font-size: 0.9rem;
	color: #0d6efd;
}
</style>
</head>

<body>

	<div class="login-card">

		<h3 class="text-center brand-title mb-1">Fashion Store</h3>
		<p class="text-center text-muted mb-4">Login to your account</p>

		<!-- Messages -->
		<div th:if="${param.error}" class="alert alert-danger text-center">
			Invalid username or password</div>

		<div th:if="${param.logout}" class="alert alert-success text-center">
			Logged out successfully</div>

		<div th:if="${param.success}" class="alert alert-success text-center">
			Registration successful. Please login</div>

		<!-- Login Form -->
		<form th:action="@{/login}" method="post" onsubmit="showLoading()">

			<input type="hidden" th:name="${_csrf.parameterName}"
				th:value="${_csrf.token}" />

			<div class="mb-3">
				<label class="form-label">Username</label> <input type="text"
					name="username" class="form-control" placeholder="Enter username"
					required>
			</div>

			<div class="mb-2">
				<label class="form-label">Password</label> <input type="password"
					id="password" name="password" class="form-control"
					placeholder="Enter password" required>
			</div>

			<div class="mb-3 text-end">
				<span class="toggle-password" onclick="togglePassword()">Show
					password</span>
			</div>

			<button type="submit" id="loginBtn"
				class="btn btn-dark w-100 btn-login">Login</button>
		</form>

		<div class="text-center mt-4">
			<span class="text-muted">Don't have an account?</span><br> <a
				th:href="@{/register}" class="fw-semibold text-decoration-none">Create
				new account</a>
		</div>

	</div>

	<script>
		function togglePassword() {
			const pass = document.getElementById("password");
			pass.type = pass.type === "password" ? "text" : "password";
		}

		function showLoading() {
			const btn = document.getElementById("loginBtn");
			btn.innerHTML = "Logging in...";
			btn.disabled = true;
		}
	</script>

</body>
</html>
